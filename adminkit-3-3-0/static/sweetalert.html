<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.7/dist/sweetalert2.min.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.7/dist/sweetalert2.all.min.js"></script>

$successMessage = "เพิ่มผู้ใช้สำเร็จ";
header("Location: member_add.php?status=success&msg=" . urlencode($successMessage));
exit();

$errorMessage = "เพิ่มผู้ใช้ไม่สำเร็จ";
header("Location: member_add.php?status=error&msg=" . urlencode($errorMessage));
exit();

<script>
    // Get the URL query parameters
    const urlParams = new URLSearchParams(window.location.search);
    const status = urlParams.get('status');
    const msg = urlParams.get('msg');

    // Check the status and display the SweetAlert message
    if (status === 'success') {
        Swal.fire({
            title: 'Success',
            text: msg,
            icon: 'success',
            confirmButtonClass: 'btn btn-primary'
        }).then((result) => {
            if (result.isConfirmed) {
                // Redirect to order.php with success status and message
                const redirectURL = 'member.php';
                window.location.href = redirectURL;
            }
        });
    } else if (status === 'error') {
        Swal.fire({
            title: 'Error',
            text: msg,
            icon: 'error',
            confirmButtonClass: 'btn btn-primary'
        }).then((result) => {
            if (result.isConfirmed) {
                // Redirect to order.php with success status and message
                const redirectURL = 'oa_edit.php';
                window.location.href = redirectURL;
            }
        });
    }
</script>